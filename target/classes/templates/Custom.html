<div class="container my-5">
    <h2>Design Your Own Garage</h2>
    <form id="custom-garage-form">
        <div class="row">
            <!-- Width -->
            <div class="col-md-6 mb-3">
                <label for="width" class="form-label">Width (meters)</label>
                <input type="number" id="width" class="form-control" placeholder="Enter width" required>
            </div>
            <!-- Length -->
            <div class="col-md-6 mb-3">
                <label for="length" class="form-label">Length (meters)</label>
                <input type="number" id="length" class="form-control" placeholder="Enter length" required>
            </div>
        </div>

        <div class="row">
            <!-- Height -->
            <div class="col-md-6 mb-3">
                <label for="height" class="form-label">Height (meters)</label>
                <input type="number" id="height" class="form-control" placeholder="Enter height" required>
            </div>
            <!-- Roof Type -->
            <div class="col-md-6 mb-3">
                <label for="roofType" class="form-label">Roof Type</label>
                <select id="roofType" class="form-select" required>
                    <option value="">Select Roof Type</option>
                    <option value="Flat">Flat</option>
                    <option value="Pitched">Pitched</option>
                    <option value="Gable">Gable</option>
                </select>
            </div>
        </div>

        <!-- Material -->
        <div class="mb-3">
            <label for="material" class="form-label">Material</label>
            <select id="material" class="form-select" required>
                <option value="">Select Material</option>
                <option value="Wood">Wood</option>
                <option value="Steel">Steel</option>
                <option value="Aluminium">Aluminium</option>
            </select>
        </div>

        <!-- Submit -->
        <button type="submit" class="btn btn-primary">Submit Design</button>
    </form>
</div>
<div id="garage-preview" style="width: 100%; height: 400px; border: 1px solid #ccc;"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
    function createGaragePreview(width, length, height) {
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / 400, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, 400);
        document.getElementById('garage-preview').appendChild(renderer.domElement);

        const geometry = new THREE.BoxGeometry(width, height, length);
        const material = new THREE.MeshBasicMaterial({ color: 0x007bff, wireframe: true });
        const garage = new THREE.Mesh(geometry, material);
        scene.add(garage);

        camera.position.z = 10;
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }
        animate();
    }

    // Example: Update preview on form submission
    document.getElementById('custom-garage-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const width = parseFloat(document.getElementById('width').value) || 1;
        const length = parseFloat(document.getElementById('length').value) || 1;
        const height = parseFloat(document.getElementById('height').value) || 1;

        // Clear previous preview
        document.getElementById('garage-preview').innerHTML = '';
        createGaragePreview(width, length, height);
    });
</script>

<script>
    document.getElementById('custom-garage-form').addEventListener('submit', function(e) {
        e.preventDefault(); // Prevent form submission

        // Get user input
        const width = document.getElementById('width').value;
        const length = document.getElementById('length').value;
        const height = document.getElementById('height').value;
        const roofType = document.getElementById('roofType').value;
        const material = document.getElementById('material').value;

        // Validation (optional)
        if (width <= 0 || length <= 0 || height <= 0) {
            alert('Measurements must be greater than zero.');
            return;
        }

        // Display the user's selections
        alert(`Your custom garage:\n
      Width: ${width} meters\n
      Length: ${length} meters\n
      Height: ${height} meters\n
      Roof Type: ${roofType}\n
      Material: ${material}`);

        // Optionally, send this data to the backend for further processing
        // Example:
        /*
        fetch('/api/garage', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ width, length, height, roofType, material })
        }).then(response => response.json())
          .then(data => console.log('Garage created:', data));
        */
    });
</script>
